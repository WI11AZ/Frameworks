<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIZ1: Profils ECSF â†’ Work Roles NCWF/DCWF</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html, body { height: 100%; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f5f7fa;
            color: #2c3e50;
        }
        .wrapper {
            display: flex;
            min-height: 100vh;
        }
        .sidebar {
            width: 280px;
            background: linear-gradient(180deg, #1e3a8a 0%, #1e40af 100%);
            color: white;
            padding: 25px;
            overflow-y: auto;
            box-shadow: 2px 0 10px rgba(0,0,0,0.15);
        }
        .sidebar h2 {
            font-size: 0.95em;
            font-weight: 600;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 2px solid rgba(255,255,255,0.2);
            padding-bottom: 12px;
        }
        .profile-btn {
            display: flex;
            align-items: center;
            width: 100%;
            padding: 12px 15px;
            margin-bottom: 8px;
            border: none;
            background: rgba(147, 197, 253, 0.6);
            color: white;
            text-align: left;
            cursor: pointer;
            border-radius: 6px;
            font-size: 0.9em;
            font-weight: 500;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
            gap: 12px;
        }
        .profile-btn:hover {
            background: rgba(147, 197, 253, 0.8);
            border-left-color: #60a5fa;
        }
        .profile-btn.active {
            background: #3b82f6;
            border-left-color: #fbbf24;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }
        .main-content {
            flex: 1;
            padding: 40px;
            overflow-y: auto;
        }
        header {
            margin-bottom: 35px;
        }
        h1 {
            font-size: 2.2em;
            color: #1e3a8a;
            margin-bottom: 8px;
            font-weight: 700;
        }
        .subtitle {
            color: #64748b;
            font-size: 0.95em;
            font-weight: 400;
        }
        .profile-header {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            color: #1e3a8a;
            padding: 24px 28px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 8px 24px rgba(59, 130, 246, 0.15);
            border: 1px solid #93c5fd;
        }
        .profile-header h2 {
            font-size: 1.7em;
            margin-bottom: 8px;
            font-weight: 700;
            color: #1e3a8a;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .profile-header-img {
            width: 60px;
            height: 60px;
            object-fit: contain;
            border-radius: 8px;
        }
        .profile-btn-img {
            width: 32px;
            height: 32px;
            object-fit: contain;
            border-radius: 4px;
            flex-shrink: 0;
        }
        .profile-count {
            font-size: 0.9em;
            opacity: 0.85;
            font-weight: 500;
            color: #1e40af;
        }
        .profile-definition {
            margin-top: 16px;
            padding-top: 16px;
            border-top: 1px solid rgba(30, 58, 138, 0.2);
            font-size: 0.75em;
            line-height: 1.6;
            color: #1e40af;
        }
        .profile-definition strong {
            font-weight: 600;
            display: block;
            margin-bottom: 4px;
            margin-top: 12px;
            color: #1e3a8a;
        }
        .profile-definition strong:first-child {
            margin-top: 0;
        }
        .workrole-card {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            margin-bottom: 22px;
            overflow: hidden;
            transition: all 0.3s ease;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        }
        .workrole-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.12);
            border-color: #3b82f6;
        }
        .workrole-header {
            padding: 20px 24px;
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 20px;
            flex-wrap: wrap;
        }
        .workrole-title {
            flex: 1;
            min-width: 300px;
        }
        .opm-id {
            display: inline-block;
            background: #3b82f6;
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 700;
            margin-bottom: 8px;
        }
        .workrole-title h3 {
            color: #1e3a8a;
            font-size: 1.2em;
            font-weight: 600;
            margin-top: 0;
        }
        .score-badges {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
        }
        .badge {
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 700;
            white-space: nowrap;
        }
        .score-badge {
            background: #10b981;
            color: white;
        }
        .confidence-low { background: #f59e0b; color: white; }
        .confidence-medium { background: #06b6d4; color: white; }
        .confidence-high { background: #10b981; color: white; }
        .workrole-body {
            padding: 0;
        }
        .info-row {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0;
            border-bottom: 1px solid #e2e8f0;
        }
        .info-row:last-child {
            border-bottom: none;
        }
        .info-cell {
            padding: 16px 24px;
            border-right: 1px solid #e2e8f0;
        }
        .info-cell:last-child {
            border-right: none;
        }
        .info-label {
            font-size: 0.75em;
            text-transform: uppercase;
            color: #94a3b8;
            font-weight: 700;
            letter-spacing: 0.5px;
            margin-bottom: 6px;
        }
        .info-value {
            font-size: 0.95em;
            color: #1e293b;
            font-weight: 500;
        }
        .category-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 14px;
            font-size: 0.8em;
            font-weight: 700;
            margin-right: 6px;
            margin-bottom: 4px;
        }
        .cat-pd { background: #dbeafe; color: #0c4a6e; }
        .cat-dd { background: #f3e8ff; color: #581c87; }
        .cat-in { background: #dcfce7; color: #15803d; }
        .cat-og { background: #fed7aa; color: #92400e; }
        .cat-io { background: #fbcfe8; color: #831843; }
        .cat-na { background: #e2e8f0; color: #475569; }
        .secondary-section {
            padding: 18px 24px;
            background: #f0f9ff;
            border-top: 1px solid #bae6fd;
            font-size: 0.9em;
            color: #164e63;
        }
        .secondary-label {
            font-weight: 700;
            margin-bottom: 8px;
            color: #0369a1;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .secondary-profiles-list {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }
        .secondary-profile-item {
            padding: 6px 10px;
            background: white;
            border-left: 3px solid #0369a1;
            border-radius: 4px;
            font-size: 0.9em;
        }
        .profile-name {
            font-weight: 600;
            color: #0c4a6e;
        }
        .profile-score {
            color: #0b5345;
            font-weight: 700;
        }
        .empty-state {
            text-align: center;
            padding: 80px 40px;
            color: #94a3b8;
        }
        .empty-state h3 {
            font-size: 1.4em;
            color: #64748b;
            margin-bottom: 12px;
        }
        .images-section {
            display: flex;
            gap: 20px;
            margin-bottom: 35px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .images-section img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .images-section img:hover {
            transform: scale(1.02);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }
        .image-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            cursor: pointer;
            animation: fadeIn 0.3s ease;
        }
        .image-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .image-modal-content {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.5);
            animation: zoomIn 0.3s ease;
        }
        .image-modal-close {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            z-index: 1001;
            background: rgba(0,0,0,0.5);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }
        .image-modal-close:hover {
            background: rgba(0,0,0,0.8);
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes zoomIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        .images-section img:nth-child(1) {
            flex: 1;
            min-width: 300px;
            max-width: 400px;
        }
        .images-section img:nth-child(2) {
            flex: 1;
            min-width: 300px;
            max-width: 400px;
        }
        .images-section img:nth-child(3) {
            flex: 1;
            min-width: 300px;
            max-width: 400px;
        }
        @media (max-width: 1200px) {
            .info-row {
                grid-template-columns: 1fr;
            }
            .info-cell {
                border-right: none;
                border-bottom: 1px solid #e2e8f0;
            }
        }
    </style>
</head>
<body>
    <div class="wrapper">
        <aside class="sidebar">
            <h2>Profils ECSF</h2>
            <div id="profilesContainer"></div>
        </aside>

        <main class="main-content">
            <header>
                <h1>ðŸ“Š Mapping Ontologique NCWF/DCWF â†’ ECSF</h1>
                <p class="subtitle">VIZ 1 : Profils ECSF â†’ Work Roles (OPM-ID) â€” TriÃ©s par score dÃ©croissant</p>
            </header>

            <div class="images-section">
                <img src="Capture d'Ã©cran 2026-01-09 114510.png" alt="Image 1" class="zoomable-image">
                <img src="Capture d'Ã©cran 2026-01-09 114536.png" alt="Image 2" class="zoomable-image">
                <img src="Capture d'Ã©cran 2026-01-09 114451.png" alt="Image 3" class="zoomable-image">
            </div>

            <div id="imageModal" class="image-modal">
                <span class="image-modal-close">&times;</span>
                <img class="image-modal-content" id="modalImage" src="" alt="Image agrandie">
            </div>

            <div id="contentArea">
                <div class="empty-state">
                    <h3>ðŸ‘ˆ SÃ©lectionnez un profil ECSF</h3>
                    <p>Choisissez un profil dans le menu latÃ©ral pour afficher les work roles associÃ©s</p>
                </div>
            </div>
        </main>
    </div>

    <script>
        const data = {"Chief Information Security Officer": [{"OPM-ID": "751", "NCWF_Title": "Cybersecurity Workforce Management", "NCWF_Category_Canonical": "OG", "NCWF_Category_Altern": "OG", "DCWF_Title": "Cyber Workforce Developer and Manager", "DCWF_Community": "EN", "Business_Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_Score": "114", "Match_Confidence": "High", "Secondary_Profiles": "Cyber Legal, Policy & Compliance Officer (70)", "Match_Reasoning": " Cybersecurity Implementer (64)", "null": [" Cybersecurity Risk Manager (50)", "Title: 'management'", " KSAT: 'management' (22x)", " KSAT: 'organizational' (28x)"], "Primary_Score_int": 114}, {"OPM-ID": "901", "NCWF_Title": "Executive Cybersecurity Leadership", "NCWF_Category_Canonical": "OG", "NCWF_Category_Altern": "PD", "DCWF_Title": "Executive Cyber Leader", "DCWF_Community": "EN", "Business_Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_Score": "110", "Match_Confidence": "High", "Secondary_Profiles": "Chief Information Security Officer (108)", "Match_Reasoning": " Cyber Legal, Policy & Compliance Officer (68)", "null": ["KSAT: 'risk' (29x)", " KSAT: 'assessment' (8x)", " KSAT: 'threat' (11x)"], "Primary_Score_int": 110}, {"OPM-ID": "801", "NCWF_Title": "Program Management", "NCWF_Category_Canonical": "OG", "NCWF_Category_Altern": "OG", "DCWF_Title": "Program Manager", "DCWF_Community": "EN", "Business_Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_Score": "86", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Risk Manager (80)", "Match_Reasoning": " Cyber Legal, Policy & Compliance Officer (28)", "null": ["Title: 'management'", " KSAT: 'management' (31x)"], "Primary_Score_int": 86}, {"OPM-ID": "802", "NCWF_Title": "Secure Project Management", "NCWF_Category_Canonical": "OG", "NCWF_Category_Altern": "OG", "DCWF_Title": "IT Project Manager", "DCWF_Community": "EN", "Business_Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_Score": "82", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Risk Manager (80)", "Match_Reasoning": " Cyber Threat Intelligence Specialist (30)", "null": [" Cyber Legal, Policy & Compliance Officer (28)", "Title: 'management'", " KSAT: 'management' (31x)"], "Primary_Score_int": 82}, {"OPM-ID": "461", "NCWF_Title": "Systems Security Analysis ", "NCWF_Category_Canonical": "IO", "NCWF_Category_Altern": "DD", "DCWF_Title": "Systems Security Analyst", "DCWF_Community": "SE", "Business_Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_Score": "80", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Architect (70)", "Match_Reasoning": " Cybersecurity Risk Manager (62)", "null": [" Cybersecurity Implementer (38)", "KSAT: 'management' (35x)"], "Primary_Score_int": 80}, {"OPM-ID": "641", "NCWF_Title": "Systems Requirements Planning", "NCWF_Category_Canonical": "DD", "NCWF_Category_Altern": "IO", "DCWF_Title": "Systems Requirements Planner", "DCWF_Community": "IT", "Business_Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_Score": "68", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Architect (62)", "Match_Reasoning": " Cyber Threat Intelligence Specialist (54)", "null": [" Cybersecurity Risk Manager (40)", "KSAT: 'management' (29x)"], "Primary_Score_int": 68}, {"OPM-ID": "421", "NCWF_Title": "Database Administration", "NCWF_Category_Canonical": "IO", "NCWF_Category_Altern": "IO", "DCWF_Title": "Database Administrator", "DCWF_Community": "IT", "Business_Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_Score": "66", "Match_Confidence": "High", "Secondary_Profiles": "", "Match_Reasoning": "KSAT: 'management' (33x)", "Primary_Score_int": 66}, {"OPM-ID": "431", "NCWF_Title": "Knowledge Management", "NCWF_Category_Canonical": "IO", "NCWF_Category_Altern": "IO", "DCWF_Title": "Knowledge Manager", "DCWF_Community": "IT", "Business_Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_Score": "58", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Risk Manager (18)", "Match_Reasoning": "Title: 'management'", "null": [" KSAT: 'management' (18x)"], "Primary_Score_int": 58}, {"OPM-ID": "723", "NCWF_Title": "Communications Security (COMSEC) Management", "NCWF_Category_Canonical": "OG", "NCWF_Category_Altern": "PD", "DCWF_Title": "COMSEC Manager", "DCWF_Community": "CS", "Business_Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_Score": "44", "Match_Confidence": "Medium", "Secondary_Profiles": "Cyber Incident Responder (32)", "Match_Reasoning": " Cybersecurity Risk Manager (30)", "null": [" Cybersecurity Implementer (18)", "Title: 'management'", " KSAT: 'management' (14x)"], "Primary_Score_int": 44}, {"OPM-ID": "903", "NCWF_Title": "Data Governance", "NCWF_Category_Canonical": "N/A", "NCWF_Category_Altern": "IO", "DCWF_Title": "Data Officer", "DCWF_Community": "DA", "Business_Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_Score": "42", "Match_Confidence": "Medium", "Secondary_Profiles": "", "Match_Reasoning": "Title: 'governance'", "null": [" KSAT: 'management' (9x)"], "Primary_Score_int": 42}, {"OPM-ID": "902", "NCWF_Title": "AI Innovation Leadship", "NCWF_Category_Canonical": "N/A", "NCWF_Category_Altern": "DD", "DCWF_Title": "AI Innovation Leader", "DCWF_Community": "DA", "Business_Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_Score": "36", "Match_Confidence": "Medium", "Secondary_Profiles": "Cybersecurity Risk Manager (28)", "Match_Reasoning": " Cybersecurity Architect (22)", "null": [" Cybersecurity Researcher (18)", "KSAT: 'organizational' (8x)"], "Primary_Score_int": 36}, {"OPM-ID": "441", "NCWF_Title": "Network Operations", "NCWF_Category_Canonical": "IO", "NCWF_Category_Altern": "IO", "DCWF_Title": "Network Operations Specialist", "DCWF_Community": "IT", "Business_Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_Score": "30", "Match_Confidence": "Medium", "Secondary_Profiles": "Cybersecurity Architect (26)", "Match_Reasoning": " Cybersecurity Implementer (20)", "null": [" Cybersecurity Risk Manager (16)", "KSAT: 'management' (15x)"], "Primary_Score_int": 30}, {"OPM-ID": "806", "NCWF_Title": "Product Management", "NCWF_Category_Canonical": "N/A", "NCWF_Category_Altern": "OG", "DCWF_Title": "Product Manager", "DCWF_Community": "SE", "Business_Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_Score": "28", "Match_Confidence": "Medium", "Secondary_Profiles": "Cybersecurity Architect (14)", "Match_Reasoning": " Cybersecurity Risk Manager (14)", "null": [" Cybersecurity Implementer (12)", "Title: 'management'", " KSAT: 'management' (7x)"], "Primary_Score_int": 28}, {"OPM-ID": "424", "NCWF_Title": "Data Management", "NCWF_Category_Canonical": "N/A", "NCWF_Category_Altern": "IO", "DCWF_Title": "Data Steward", "DCWF_Community": "DA", "Business_Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_Score": "14", "Match_Confidence": "Low", "Secondary_Profiles": "Cyber Legal, Policy & Compliance Officer (10)", "Match_Reasoning": "Title: 'management'", "Primary_Score_int": 14}, {"OPM-ID": "624", "NCWF_Title": "Data Operations", "NCWF_Category_Canonical": "N/A", "NCWF_Category_Altern": "IO", "DCWF_Title": "Data Operations Specialist", "DCWF_Community": "DA", "Business_Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_ECSF_Profile": "Chief Information Security Officer", "Primary_Score": "10", "Match_Confidence": "Low", "Secondary_Profiles": "Cyber Legal, Policy & Compliance Officer (6)", "Match_Reasoning": " Cyber Incident Responder (4)", "null": [" Cyber Threat Intelligence Specialist (4)", ""], "Primary_Score_int": 10}], "Cyber Incident Responder": [{"OPM-ID": "531", "NCWF_Title": "Incident Response", "NCWF_Category_Canonical": "PD", "NCWF_Category_Altern": "PD", "DCWF_Title": "Cyber Defense Incident Responder", "DCWF_Community": "CS", "Business_Primary_ECSF_Profile": "Cyber Incident Responder", "Primary_ECSF_Profile": "Cyber Incident Responder", "Primary_Score": "158", "Match_Confidence": "High", "Secondary_Profiles": "Cyber Threat Intelligence Specialist (68)", "Match_Reasoning": " Cybersecurity Risk Manager (56)", "null": ["Title: 'incident response'", " KSAT: 'incident' (31x)", " KSAT: 'response' (12x)", " KSAT: 'detection' (7x)"], "Primary_Score_int": 158}], "Cyber Legal, Policy & Compliance Officer": [{"OPM-ID": "732", "NCWF_Title": "Privacy Compliance", "NCWF_Category_Canonical": "OG", "NCWF_Category_Altern": "OG", "DCWF_Title": "Privacy Compliance Manager", "DCWF_Community": "EN", "Business_Primary_ECSF_Profile": "Cyber Legal, Policy & Compliance Officer", "Primary_ECSF_Profile": "Cyber Legal, Policy & Compliance Officer", "Primary_Score": "436", "Match_Confidence": "High", "Secondary_Profiles": "", "Match_Reasoning": "Title: 'compliance'", "null": [" Title: 'privacy'", " KSAT: 'compliance' (27x)", " KSAT: 'legal' (19x)", " KSAT: 'regulation' (16x)"], "Primary_Score_int": 436}, {"OPM-ID": "731", "NCWF_Title": "Cybersecurity Legal Advice", "NCWF_Category_Canonical": "OG", "NCWF_Category_Altern": "OG", "DCWF_Title": "Cyber Legal Advisor", "DCWF_Community": "EN", "Business_Primary_ECSF_Profile": "Cyber Legal, Policy & Compliance Officer", "Primary_ECSF_Profile": "Cyber Legal, Policy & Compliance Officer", "Primary_Score": "150", "Match_Confidence": "High", "Secondary_Profiles": "Chief Information Security Officer (64)", "Match_Reasoning": "Title: 'legal'", "null": [" KSAT: 'legal' (11x)", " KSAT: 'regulation' (22x)", " KSAT: 'privacy' (6x)", " KSAT: 'policy' (6x)"], "Primary_Score_int": 150}, {"OPM-ID": "752", "NCWF_Title": "Cybersecurity Policy and Planning", "NCWF_Category_Canonical": "OG", "NCWF_Category_Altern": "OG", "DCWF_Title": "Cyber Policy and Strategy Planner", "DCWF_Community": "EN", "Business_Primary_ECSF_Profile": "Cyber Legal, Policy & Compliance Officer", "Primary_ECSF_Profile": "Cyber Legal, Policy & Compliance Officer", "Primary_Score": "72", "Match_Confidence": "High", "Secondary_Profiles": "Chief Information Security Officer (62)", "Match_Reasoning": "Title: 'policy'", "null": [" KSAT: 'regulation' (7x)", " KSAT: 'policy' (15x)"], "Primary_Score_int": 72}], "Cyber Threat Intelligence Specialist": [{"OPM-ID": "141", "NCWF_Title": "Threat Analysis", "NCWF_Category_Canonical": "PD", "NCWF_Category_Altern": "PD", "DCWF_Title": "Threat Analyst", "DCWF_Community": "CS", "Business_Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_Score": "178", "Match_Confidence": "High", "Secondary_Profiles": "", "Match_Reasoning": "Title: 'threat analyst'", "null": [" Title: 'analysis'", " KSAT: 'intelligence' (23x)", " KSAT: 'threat' (20x)", " KSAT: 'analysis' (14x)"], "Primary_Score_int": 178}, {"OPM-ID": "TBD-A", "NCWF_Title": "Insider Threat Analysis", "NCWF_Category_Canonical": "PD", "NCWF_Category_Altern": "PD", "DCWF_Title": "Insider Threat Analyst", "DCWF_Community": "Cx", "Business_Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_Score": "172", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Risk Manager (126)", "Match_Reasoning": "Title: 'threat analyst'", "null": [" Title: 'analysis'", " KSAT: 'intelligence' (7x)", " KSAT: 'threat' (37x)", " KSAT: 'analysis' (12x)"], "Primary_Score_int": 172}, {"OPM-ID": "122", "NCWF_Title": "Digital Network Exploitation Analysis", "NCWF_Category_Canonical": "CE", "NCWF_Category_Altern": "PD", "DCWF_Title": "Digital Network Exploitation Analyst", "DCWF_Community": "CE", "Business_Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_Score": "160", "Match_Confidence": "High", "Secondary_Profiles": "", "Match_Reasoning": "Title: 'analysis'", "null": [" KSAT: 'intelligence' (31x)", " KSAT: 'analysis' (37x)"], "Primary_Score_int": 160}, {"OPM-ID": "331", "NCWF_Title": "Cyber Intelligence Planning", "NCWF_Category_Canonical": "CI", "NCWF_Category_Altern": "PD", "DCWF_Title": "Cyber Intelligence Planner", "DCWF_Community": "CI", "Business_Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_Score": "142", "Match_Confidence": "High", "Secondary_Profiles": "", "Match_Reasoning": "KSAT: 'intelligence' (56x)", "null": [" KSAT: 'threat' (9x)"], "Primary_Score_int": 142}, {"OPM-ID": "132", "NCWF_Title": "Target Network Analysis", "NCWF_Category_Canonical": "CE", "NCWF_Category_Altern": "PD", "DCWF_Title": "Target Digital Network Analyst", "DCWF_Community": "CE", "Business_Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_Score": "140", "Match_Confidence": "High", "Secondary_Profiles": "", "Match_Reasoning": "Title: 'analysis'", "null": [" KSAT: 'intelligence' (30x)", " KSAT: 'analysis' (30x)"], "Primary_Score_int": 140}, {"OPM-ID": "133", "NCWF_Title": "Target Reporting Analysis", "NCWF_Category_Canonical": "CE", "NCWF_Category_Altern": "PD", "DCWF_Title": "Target Analyst Reporter", "DCWF_Community": "CE", "Business_Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_Score": "140", "Match_Confidence": "High", "Secondary_Profiles": "", "Match_Reasoning": "Title: 'analysis'", "null": [" KSAT: 'intelligence' (29x)", " KSAT: 'analysis' (29x)"], "Primary_Score_int": 140}, {"OPM-ID": "111", "NCWF_Title": "All-Source Analysis", "NCWF_Category_Canonical": "CI", "NCWF_Category_Altern": "PD", "DCWF_Title": "All-Source Analyst", "DCWF_Community": "CI", "Business_Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_Score": "120", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Risk Manager (48)", "Match_Reasoning": "Title: 'analysis'", "null": [" KSAT: 'intelligence' (29x)", " KSAT: 'threat' (16x)", " KSAT: 'analysis' (9x)"], "Primary_Score_int": 120}, {"OPM-ID": "511", "NCWF_Title": "Defensive Cybersecurity", "NCWF_Category_Canonical": "PD", "NCWF_Category_Altern": "PD", "DCWF_Title": "Cyber Defense Analyst", "DCWF_Community": "CS", "Business_Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_Score": "98", "Match_Confidence": "High", "Secondary_Profiles": "Cyber Incident Responder (92)", "Match_Reasoning": " Cybersecurity Risk Manager (84)", "null": [" Penetration Tester (44)", "KSAT: 'threat' (17x)", " KSAT: 'analysis' (27x)"], "Primary_Score_int": 98}, {"OPM-ID": "311", "NCWF_Title": "All-Source Collection Management", "NCWF_Category_Canonical": "CI", "NCWF_Category_Altern": "PD", "DCWF_Title": "All-Source Collection Manager", "DCWF_Community": "CI", "Business_Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_Score": "96", "Match_Confidence": "High", "Secondary_Profiles": "Chief Information Security Officer (44)", "Match_Reasoning": "Title: 'CTI'", "null": [" KSAT: 'intelligence' (10x)", " KSAT: 'actor' (8x)"], "Primary_Score_int": 96}, {"OPM-ID": "312", "NCWF_Title": "All-Source Collection Requirements Management", "NCWF_Category_Canonical": "CI", "NCWF_Category_Altern": "PD", "DCWF_Title": "All-Source Collection Requirements Manager", "DCWF_Community": "CI", "Business_Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_Score": "82", "Match_Confidence": "High", "Secondary_Profiles": "Chief Information Security Officer (48)", "Match_Reasoning": "Title: 'CTI'", "null": [" KSAT: 'intelligence' (6x)"], "Primary_Score_int": 82}, {"OPM-ID": "443", "NCWF_Title": "Network Analysis", "NCWF_Category_Canonical": "CE", "NCWF_Category_Altern": "PD", "DCWF_Title": "Network Analyst", "DCWF_Community": "CE", "Business_Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_Score": "66", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Risk Manager (64)", "Match_Reasoning": " Cybersecurity Architect (58)", "null": [" Chief Information Security Officer (48)", "Title: 'analysis'", " KSAT: 'threat' (8x)", " KSAT: 'analysis' (15x)"], "Primary_Score_int": 66}, {"OPM-ID": "131", "NCWF_Title": "Target Analysis", "NCWF_Category_Canonical": "CE", "NCWF_Category_Altern": "PD", "DCWF_Title": "Joint Targeting Analyst", "DCWF_Community": "CE", "Business_Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_Score": "62", "Match_Confidence": "High", "Secondary_Profiles": "", "Match_Reasoning": "Title: 'analysis'", "null": [" KSAT: 'intelligence' (16x)", " KSAT: 'analysis' (6x)"], "Primary_Score_int": 62}, {"OPM-ID": "151", "NCWF_Title": "Multi-Disciplined Language Analysis", "NCWF_Category_Canonical": "CI", "NCWF_Category_Altern": "PD", "DCWF_Title": "Multi-Disciplined Language Analyst", "DCWF_Community": "CI", "Business_Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_Score": "62", "Match_Confidence": "High", "Secondary_Profiles": "", "Match_Reasoning": "Title: 'analysis'", "null": [" KSAT: 'intelligence' (7x)", " KSAT: 'analysis' (15x)"], "Primary_Score_int": 62}, {"OPM-ID": "463", "NCWF_Title": "Hosting Analysis", "NCWF_Category_Canonical": "CE", "NCWF_Category_Altern": "PD", "DCWF_Title": "Host Analyst", "DCWF_Community": "CE", "Business_Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_Score": "56", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Risk Manager (46)", "Match_Reasoning": " Cybersecurity Architect (44)", "null": [" Chief Information Security Officer (42)", "Title: 'analysis'", " KSAT: 'analysis' (13x)"], "Primary_Score_int": 56}, {"OPM-ID": "422", "NCWF_Title": "Data Analysis", "NCWF_Category_Canonical": "IO", "NCWF_Category_Altern": "IO", "DCWF_Title": "Data Analyst", "DCWF_Community": "DA", "Business_Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_Score": "42", "Match_Confidence": "Medium", "Secondary_Profiles": "Chief Information Security Officer (18)", "Match_Reasoning": " Cyber Legal, Policy & Compliance Officer (16)", "null": ["Title: 'analysis'", " KSAT: 'analysis' (13x)"], "Primary_Score_int": 42}, {"OPM-ID": "332", "NCWF_Title": "Cyber Operations Planning", "NCWF_Category_Canonical": "CE", "NCWF_Category_Altern": "PD", "DCWF_Title": "Cyber Operations Planner", "DCWF_Community": "CE", "Business_Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_Score": "38", "Match_Confidence": "Medium", "Secondary_Profiles": "Cybersecurity Architect (14)", "Match_Reasoning": " Cybersecurity Implementer (14)", "null": [" Cybersecurity Risk Manager (12)", "KSAT: 'intelligence' (14x)"], "Primary_Score_int": 38}, {"OPM-ID": "121", "NCWF_Title": "Exploitation Analysis", "NCWF_Category_Canonical": "CE", "NCWF_Category_Altern": "PD", "DCWF_Title": "Exploitation Analyst", "DCWF_Community": "CE", "Business_Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_ECSF_Profile": "Cyber Threat Intelligence Specialist", "Primary_Score": "36", "Match_Confidence": "Medium", "Secondary_Profiles": "Penetration Tester (28)", "Match_Reasoning": " Cybersecurity Implementer (20)", "null": [" Chief Information Security Officer (16)", "Title: 'analysis'", " KSAT: 'analysis' (8x)"], "Primary_Score_int": 36}], "Cybersecurity Architect": [{"OPM-ID": "652", "NCWF_Title": "Cybersecurity Architecture", "NCWF_Category_Canonical": "DD", "NCWF_Category_Altern": "IO", "DCWF_Title": "Security Architect", "DCWF_Community": "CS", "Business_Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_Score": "312", "Match_Confidence": "High", "Secondary_Profiles": "", "Match_Reasoning": "Title: 'architect'", "null": [" Title: 'security architect'", " Title: 'architecture'", " KSAT: 'architecture' (50x)", " KSAT: 'design' (40x)"], "Primary_Score_int": 312}, {"OPM-ID": "651", "NCWF_Title": "Enterprise Architecture", "NCWF_Category_Canonical": "DD", "NCWF_Category_Altern": "DD", "DCWF_Title": "Enterprise Architect", "DCWF_Community": "IT", "Business_Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_Score": "210", "Match_Confidence": "High", "Secondary_Profiles": "Chief Information Security Officer (64)", "Match_Reasoning": "Title: 'architect'", "null": [" Title: 'architecture'", " KSAT: 'architecture' (47x)", " KSAT: 'design' (20x)", " KSAT: 'solution' (7x)"], "Primary_Score_int": 210}, {"OPM-ID": "631", "NCWF_Title": "Secure Systems Development", "NCWF_Category_Canonical": "DD", "NCWF_Category_Altern": "DD", "DCWF_Title": "Information Systems Security Developer", "DCWF_Community": "CS", "Business_Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_Score": "158", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Implementer (140)", "Match_Reasoning": " Cybersecurity Risk Manager (94)", "null": [" Chief Information Security Officer (68)", "KSAT: 'architecture' (20x)", " KSAT: 'design' (54x)"], "Primary_Score_int": 158}, {"OPM-ID": "628", "NCWF_Title": "Software/Cloud Architecture", "NCWF_Category_Canonical": "N/A", "NCWF_Category_Altern": "DD", "DCWF_Title": "Software/Cloud Architect", "DCWF_Community": "SE", "Business_Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_Score": "112", "Match_Confidence": "High", "Secondary_Profiles": "", "Match_Reasoning": "Title: 'architect'", "null": [" Title: 'architecture'", " KSAT: 'architecture' (11x)", " KSAT: 'design' (12x)"], "Primary_Score_int": 112}, {"OPM-ID": "625", "NCWF_Title": "Product  & User Interface Design (UI)", "NCWF_Category_Canonical": "N/A", "NCWF_Category_Altern": "DD", "DCWF_Title": "Product Designer User Interface (UI)", "DCWF_Community": "SE", "Business_Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_Score": "76", "Match_Confidence": "High", "Secondary_Profiles": "", "Match_Reasoning": "Title: 'designer'", "null": [" Title: 'design'", " KSAT: 'design' (7x)"], "Primary_Score_int": 76}, {"OPM-ID": "626", "NCWF_Title": "Service & User Experience Design (UX)", "NCWF_Category_Canonical": "N/A", "NCWF_Category_Altern": "DD", "DCWF_Title": "Service Designer User Experience (UX)", "DCWF_Community": "SE", "Business_Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_Score": "76", "Match_Confidence": "High", "Secondary_Profiles": "", "Match_Reasoning": "Title: 'designer'", "null": [" Title: 'design'", " KSAT: 'design' (6x)"], "Primary_Score_int": 76}, {"OPM-ID": "653", "NCWF_Title": "Data Architure", "NCWF_Category_Canonical": "N/A", "NCWF_Category_Altern": "DD", "DCWF_Title": "Data Architect", "DCWF_Community": "DA", "Business_Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_Score": "70", "Match_Confidence": "High", "Secondary_Profiles": "", "Match_Reasoning": "Title: 'architect'", "Primary_Score_int": 70}, {"OPM-ID": "623", "NCWF_Title": "AI/ML Design", "NCWF_Category_Canonical": "N/A", "NCWF_Category_Altern": "PD", "DCWF_Title": "AI/ML Specialist", "DCWF_Community": "DA", "Business_Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_Score": "56", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Risk Manager (22)", "Match_Reasoning": "Title: 'design'", "null": [" KSAT: 'design' (10x)", " KSAT: 'solution' (13x)"], "Primary_Score_int": 56}, {"OPM-ID": "442", "NCWF_Title": "Network Technics", "NCWF_Category_Canonical": "CE", "NCWF_Category_Altern": "DD", "DCWF_Title": "Network Technician", "DCWF_Community": "CE", "Business_Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_Score": "48", "Match_Confidence": "Medium", "Secondary_Profiles": "Chief Information Security Officer (32)", "Match_Reasoning": " Cybersecurity Risk Manager (28)", "null": [" Cyber Incident Responder (26)", "KSAT: 'architecture' (10x)", " KSAT: 'design' (12x)"], "Primary_Score_int": 48}, {"OPM-ID": "672", "NCWF_Title": "AI Test & Evaluation", "NCWF_Category_Canonical": "N/A", "NCWF_Category_Altern": "DD", "DCWF_Title": "AI Test & Evaluation Specialist", "DCWF_Community": "DA", "Business_Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_Score": "34", "Match_Confidence": "Medium", "Secondary_Profiles": "Cybersecurity Risk Manager (28)", "Match_Reasoning": " Penetration Tester (18)", "null": [" Cybersecurity Auditor (16)", "KSAT: 'solution' (13x)"], "Primary_Score_int": 34}, {"OPM-ID": "753", "NCWF_Title": "AI Adoption", "NCWF_Category_Canonical": "N/A", "NCWF_Category_Altern": "PD", "DCWF_Title": "AI Adoption Specialist", "DCWF_Community": "DA", "Business_Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_ECSF_Profile": "Cybersecurity Architect", "Primary_Score": "26", "Match_Confidence": "Medium", "Secondary_Profiles": "Cybersecurity Educator (16)", "Match_Reasoning": " Chief Information Security Officer (10)", "null": [" Cybersecurity Risk Manager (10)", "KSAT: 'solution' (10x)"], "Primary_Score_int": 26}], "Cybersecurity Auditor": [{"OPM-ID": "805", "NCWF_Title": "Technology Program Auditing", "NCWF_Category_Canonical": "OG", "NCWF_Category_Altern": "PD", "DCWF_Title": "IT Program Auditor", "DCWF_Community": "EN", "Business_Primary_ECSF_Profile": "Cybersecurity Auditor", "Primary_ECSF_Profile": "Cybersecurity Auditor", "Primary_Score": "124", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Risk Manager (56)", "Match_Reasoning": " Chief Information Security Officer (48)", "null": ["Title: 'auditor'", " Title: 'audit'", " KSAT: 'audit' (8x)"], "Primary_Score_int": 124}, {"OPM-ID": "612", "NCWF_Title": "Security Control Assessment", "NCWF_Category_Canonical": "OG", "NCWF_Category_Altern": "OG", "DCWF_Title": "Security Control Assessor", "DCWF_Community": "CS", "Business_Primary_ECSF_Profile": "Cybersecurity Auditor", "Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_Score": "118", "Match_Confidence": "High", "Secondary_Profiles": "Cyber Threat Intelligence Specialist (76)", "Match_Reasoning": " Cyber Legal, Policy & Compliance Officer (62)", "null": [" Chief Information Security Officer (58)", "KSAT: 'risk' (31x)", " KSAT: 'assessment' (12x)", " KSAT: 'vulnerability' (9x)", " KSAT: 'threat' (6x)"], "Primary_Score_int": 118}, {"OPM-ID": "112", "NCWF_Title": "Mission Assessment", "NCWF_Category_Canonical": "CE", "NCWF_Category_Altern": "PD", "DCWF_Title": "Mission Assessment Specialist", "DCWF_Community": "CE", "Business_Primary_ECSF_Profile": "Cybersecurity Auditor", "Primary_ECSF_Profile": "Cybersecurity Auditor", "Primary_Score": "10", "Match_Confidence": "Low", "Secondary_Profiles": "", "Match_Reasoning": "Title: 'assessment'", "Primary_Score_int": 10}], "Cybersecurity Educator": [{"OPM-ID": "712", "NCWF_Title": "Cybersecurity Instruction", "NCWF_Category_Canonical": "OG", "NCWF_Category_Altern": "OG", "DCWF_Title": "Cyber Instructor", "DCWF_Community": "EN", "Business_Primary_ECSF_Profile": "Cybersecurity Educator", "Primary_ECSF_Profile": "Cybersecurity Educator", "Primary_Score": "190", "Match_Confidence": "High", "Secondary_Profiles": "Cyber Threat Intelligence Specialist (76)", "Match_Reasoning": "Title: 'instructor'", "null": [" KSAT: 'education' (9x)", " KSAT: 'training' (41x)", " KSAT: 'awareness' (13x)", " KSAT: 'curriculum' (6x)"], "Primary_Score_int": 190}, {"OPM-ID": "711", "NCWF_Title": "Cybersecurity Curriculum Development", "NCWF_Category_Canonical": "OG", "NCWF_Category_Altern": "OG", "DCWF_Title": "Cyber Instructional Curriculum Developer", "DCWF_Community": "EN", "Business_Primary_ECSF_Profile": "Cybersecurity Educator", "Primary_ECSF_Profile": "Cybersecurity Educator", "Primary_Score": "98", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Implementer (64)", "Match_Reasoning": " Cyber Threat Intelligence Specialist (62)", "null": [" Cybersecurity Risk Manager (32)", "Title: 'curriculum'", " KSAT: 'training' (26x)", " KSAT: 'curriculum' (7x)"], "Primary_Score_int": 98}], "Cybersecurity Implementer": [{"OPM-ID": "341", "NCWF_Title": "Cyberspace Capability Development", "NCWF_Category_Canonical": "CE", "NCWF_Category_Altern": "DD", "DCWF_Title": "Cyberspace Capability Developer", "DCWF_Community": "CE", "Business_Primary_ECSF_Profile": "Cybersecurity Implementer", "Primary_ECSF_Profile": "Cybersecurity Implementer", "Primary_Score": "116", "Match_Confidence": "High", "Secondary_Profiles": "Cyber Threat Intelligence Specialist (46)", "Match_Reasoning": "Title: 'developer'", "null": [" Title: 'development'", " KSAT: 'development' (15x)", " KSAT: 'engineer' (10x)"], "Primary_Score_int": 116}, {"OPM-ID": "621", "NCWF_Title": "Secure Software Development", "NCWF_Category_Canonical": "DD", "NCWF_Category_Altern": "IO", "DCWF_Title": "Software Developer", "DCWF_Community": "SE", "Business_Primary_ECSF_Profile": "Cybersecurity Implementer", "Primary_ECSF_Profile": "Cybersecurity Implementer", "Primary_Score": "102", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Architect (94)", "Match_Reasoning": " Cybersecurity Risk Manager (64)", "null": [" Cyber Threat Intelligence Specialist (58)", "Title: 'developer'", " Title: 'development'", " KSAT: 'development' (14x)", " KSAT: 'engineer' (6x)"], "Primary_Score_int": 102}, {"OPM-ID": "632", "NCWF_Title": "Secure Systems Development", "NCWF_Category_Canonical": "DD", "NCWF_Category_Altern": "DD", "DCWF_Title": "Systems Developer", "DCWF_Community": "IT", "Business_Primary_ECSF_Profile": "Cybersecurity Implementer", "Primary_ECSF_Profile": "Cybersecurity Implementer", "Primary_Score": "94", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Architect (66)", "Match_Reasoning": "Title: 'developer'", "null": [" Title: 'development'", " KSAT: 'development' (7x)", " KSAT: 'engineer' (6x)"], "Primary_Score_int": 94}, {"OPM-ID": "627", "NCWF_Title": "DevSecOps", "NCWF_Category_Canonical": "N/A", "NCWF_Category_Altern": "DD", "DCWF_Title": "DevSecOps Specialist", "DCWF_Community": "SE", "Business_Primary_ECSF_Profile": "Cybersecurity Implementer", "Primary_ECSF_Profile": "Cybersecurity Implementer", "Primary_Score": "86", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Risk Manager (40)", "Match_Reasoning": " Penetration Tester (40)", "null": ["Title: 'DevSecOps'", " KSAT: 'integration' (8x)"], "Primary_Score_int": 86}, {"OPM-ID": "TBD-B", "NCWF_Title": "Operational Technology (OT) Cybersecurity Engineering", "NCWF_Category_Canonical": "DD", "NCWF_Category_Altern": "IO", "DCWF_Title": "Operational Technology (OT) Cybersecurity Engineer", "DCWF_Community": "Cx", "Business_Primary_ECSF_Profile": "Cybersecurity Implementer", "Primary_ECSF_Profile": "Cybersecurity Implementer", "Primary_Score": "74", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Risk Manager (50)", "Match_Reasoning": " Chief Information Security Officer (42)", "null": [" Cyber Legal, Policy & Compliance Officer (26)", "Title: 'engineer'"], "Primary_Score_int": 74}, {"OPM-ID": "411", "NCWF_Title": "Technical Support", "NCWF_Category_Canonical": "IO", "NCWF_Category_Altern": "IO", "DCWF_Title": "Technical Support Specialist", "DCWF_Community": "IT", "Business_Primary_ECSF_Profile": "Cybersecurity Implementer", "Primary_ECSF_Profile": "Cyber Incident Responder", "Primary_Score": "42", "Match_Confidence": "Medium", "Secondary_Profiles": "Chief Information Security Officer (24)", "Match_Reasoning": " Cyber Threat Intelligence Specialist (18)", "null": [" Cybersecurity Architect (16)", "KSAT: 'incident' (16x)"], "Primary_Score_int": 42}, {"OPM-ID": "521", "NCWF_Title": "Infrastructure Support", "NCWF_Category_Canonical": "PD", "NCWF_Category_Altern": "PD", "DCWF_Title": "Cyber Defense Infrastructure Support Specialist", "DCWF_Community": "CS", "Business_Primary_ECSF_Profile": "Cybersecurity Implementer", "Primary_ECSF_Profile": "Cyber Incident Responder", "Primary_Score": "36", "Match_Confidence": "Medium", "Secondary_Profiles": "Cybersecurity Architect (28)", "Match_Reasoning": " Cybersecurity Risk Manager (24)", "null": [" Cyber Legal, Policy & Compliance Officer (14)", "KSAT: 'incident' (7x)"], "Primary_Score_int": 36}, {"OPM-ID": "451", "NCWF_Title": "Systems Administration", "NCWF_Category_Canonical": "IO", "NCWF_Category_Altern": "PD", "DCWF_Title": "System Administrator", "DCWF_Community": "IT", "Business_Primary_ECSF_Profile": "Cybersecurity Implementer", "Primary_ECSF_Profile": "Cybersecurity Implementer", "Primary_Score": "32", "Match_Confidence": "Medium", "Secondary_Profiles": "Chief Information Security Officer (24)", "Match_Reasoning": " Cyber Incident Responder (24)", "null": [" Cybersecurity Architect (24)", "KSAT: 'engineer' (10x)"], "Primary_Score_int": 32}, {"OPM-ID": "333", "NCWF_Title": "Partner Integration Planning", "NCWF_Category_Canonical": "CE", "NCWF_Category_Altern": "OG", "DCWF_Title": "Partner Integration Planner", "DCWF_Community": "CE", "Business_Primary_ECSF_Profile": "Cybersecurity Implementer", "Primary_ECSF_Profile": "Cybersecurity Implementer", "Primary_Score": "10", "Match_Confidence": "Low", "Secondary_Profiles": "", "Match_Reasoning": "Title: 'integration'", "Primary_Score_int": 10}], "Cybersecurity Researcher": [{"OPM-ID": "423", "NCWF_Title": "Data Science", "NCWF_Category_Canonical": "N/A", "NCWF_Category_Altern": "IO", "DCWF_Title": "Data Scientist", "DCWF_Community": "DA", "Business_Primary_ECSF_Profile": "Cybersecurity Researcher", "Primary_ECSF_Profile": "Cybersecurity Researcher", "Primary_Score": "60", "Match_Confidence": "High", "Secondary_Profiles": "", "Match_Reasoning": "Title: 'scientist'", "Primary_Score_int": 60}, {"OPM-ID": "661", "NCWF_Title": "Technology Research and Development", "NCWF_Category_Canonical": "DD", "NCWF_Category_Altern": "PD", "DCWF_Title": "Research & Development Specialist", "DCWF_Community": "IT", "Business_Primary_ECSF_Profile": "Cybersecurity Researcher", "Primary_ECSF_Profile": "Cybersecurity Researcher", "Primary_Score": "56", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Implementer (50)", "Match_Reasoning": " Cybersecurity Architect (48)", "null": [" Chief Information Security Officer (36)", "Title: 'research'"], "Primary_Score_int": 56}], "Cybersecurity Risk Manager": [{"OPM-ID": "722", "NCWF_Title": "Systems Security Management", "NCWF_Category_Canonical": "OG", "NCWF_Category_Altern": "PD", "DCWF_Title": "Information Systems Security Manager", "DCWF_Community": "CS", "Business_Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_Score": "136", "Match_Confidence": "High", "Secondary_Profiles": "Chief Information Security Officer (126)", "Match_Reasoning": " Cyber Incident Responder (66)", "null": [" Cyber Legal, Policy & Compliance Officer (58)", "KSAT: 'risk' (41x)", " KSAT: 'threat' (13x)"], "Primary_Score_int": 136}, {"OPM-ID": "611", "NCWF_Title": "Systems Authorization", "NCWF_Category_Canonical": "OG", "NCWF_Category_Altern": "PD", "DCWF_Title": "Authorizing Official/Designated Representative", "DCWF_Community": "CS", "Business_Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_Score": "98", "Match_Confidence": "High", "Secondary_Profiles": "Cyber Legal, Policy & Compliance Officer (52)", "Match_Reasoning": " Chief Information Security Officer (44)", "null": [" Cybersecurity Architect (36)", "KSAT: 'risk' (30x)", " KSAT: 'assessment' (9x)", " KSAT: 'threat' (7x)"], "Primary_Score_int": 98}, {"OPM-ID": "541", "NCWF_Title": "Vulnerability Analysis", "NCWF_Category_Canonical": "PD", "NCWF_Category_Altern": "OG", "DCWF_Title": "Vulnerability Assessment Analyst", "DCWF_Community": "CS", "Business_Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_Score": "82", "Match_Confidence": "High", "Secondary_Profiles": "Cyber Threat Intelligence Specialist (56)", "Match_Reasoning": " Penetration Tester (48)", "null": [" Cybersecurity Auditor (44)", "Title: 'vulnerability assessment'", " KSAT: 'risk' (10x)", " KSAT: 'assessment' (6x)", " KSAT: 'vulnerability' (6x)", " KSAT: 'threat' (14x)"], "Primary_Score_int": 82}, {"OPM-ID": "803", "NCWF_Title": "Product Support Management", "NCWF_Category_Canonical": "OG", "NCWF_Category_Altern": "PD", "DCWF_Title": "Product Support Manager", "DCWF_Community": "EN", "Business_Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_Score": "80", "Match_Confidence": "High", "Secondary_Profiles": "Chief Information Security Officer (78)", "Match_Reasoning": " Cyber Legal, Policy & Compliance Officer (30)", "null": [" Cyber Threat Intelligence Specialist (28)", "KSAT: 'risk' (31x)"], "Primary_Score_int": 80}, {"OPM-ID": "622", "NCWF_Title": "Software Security Assessment", "NCWF_Category_Canonical": "DD", "NCWF_Category_Altern": "OG", "DCWF_Title": "Software Security Assessment Specialist", "DCWF_Community": "CS", "Business_Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_Score": "66", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Architect (62)", "Match_Reasoning": " Penetration Tester (60)", "null": [" Cyber Threat Intelligence Specialist (56)", "KSAT: 'risk' (17x)", " KSAT: 'threat' (9x)"], "Primary_Score_int": 66}, {"OPM-ID": "733", "NCWF_Title": "AI Risk and Ethics", "NCWF_Category_Canonical": "N/A", "NCWF_Category_Altern": "OG", "DCWF_Title": "AI Risk and Ethics Specialist", "DCWF_Community": "DA", "Business_Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_Score": "64", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Architect (20)", "Match_Reasoning": "KSAT: 'risk' (21x)", "Primary_Score_int": 64}, {"OPM-ID": "804", "NCWF_Title": "Technology Portfolio Management", "NCWF_Category_Canonical": "OG", "NCWF_Category_Altern": "PD", "DCWF_Title": "IT Investment/Portfolio Manager", "DCWF_Community": "EN", "Business_Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_Score": "50", "Match_Confidence": "Medium", "Secondary_Profiles": "Chief Information Security Officer (48)", "Match_Reasoning": " Cyber Legal, Policy & Compliance Officer (16)", "null": [" Cybersecurity Auditor (16)", "KSAT: 'risk' (17x)"], "Primary_Score_int": 50}, {"OPM-ID": "462", "NCWF_Title": "Control Systems Security", "NCWF_Category_Canonical": "N/A", "NCWF_Category_Altern": "PD", "DCWF_Title": "Control Systems Security Specialist", "DCWF_Community": "CS", "Business_Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_Score": "38", "Match_Confidence": "Medium", "Secondary_Profiles": "Chief Information Security Officer (22)", "Match_Reasoning": " Cybersecurity Auditor (14)", "null": ["KSAT: 'risk' (12x)"], "Primary_Score_int": 38}, {"OPM-ID": "322", "NCWF_Title": "Cyberspace Operations", "NCWF_Category_Canonical": "CE", "NCWF_Category_Altern": "IO", "DCWF_Title": "Cyberspace Operator", "DCWF_Community": "CE", "Business_Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_ECSF_Profile": "Cybersecurity Risk Manager", "Primary_Score": "36", "Match_Confidence": "Medium", "Secondary_Profiles": "Cyber Threat Intelligence Specialist (30)", "Match_Reasoning": " Penetration Tester (28)", "null": [" Cybersecurity Implementer (18)", "KSAT: 'risk' (6x)", " KSAT: 'vulnerability' (6x)"], "Primary_Score_int": 36}], "Digital Forensics Investigator": [{"OPM-ID": "212", "NCWF_Title": "Digital Forensics", "NCWF_Category_Canonical": "PD", "NCWF_Category_Altern": "IN", "DCWF_Title": "Digital Forensics Analyst", "DCWF_Community": "CS", "Business_Primary_ECSF_Profile": "Digital Forensics Investigator", "Primary_ECSF_Profile": "Digital Forensics Investigator", "Primary_Score": "300", "Match_Confidence": "High", "Secondary_Profiles": "Cyber Threat Intelligence Specialist (132)", "Match_Reasoning": "Title: 'forensics'", "null": [" Title: 'digital forensics'", " KSAT: 'forensics' (20x)", " KSAT: 'evidence' (37x)", " KSAT: 'forensic' (43x)"], "Primary_Score_int": 300}, {"OPM-ID": "211", "NCWF_Title": "Digital Evidence Analysis", "NCWF_Category_Canonical": "IN", "NCWF_Category_Altern": "IN", "DCWF_Title": "Forensics Analyst", "DCWF_Community": "EN", "Business_Primary_ECSF_Profile": "Digital Forensics Investigator", "Primary_ECSF_Profile": "Digital Forensics Investigator", "Primary_Score": "266", "Match_Confidence": "High", "Secondary_Profiles": "Cyber Threat Intelligence Specialist (104)", "Match_Reasoning": "Title: 'forensics'", "null": [" Title: 'evidence'", " Title: 'digital evidence'", " KSAT: 'forensics' (17x)", " KSAT: 'evidence' (39x)"], "Primary_Score_int": 266}, {"OPM-ID": "221", "NCWF_Title": "Cybercrime Investigation", "NCWF_Category_Canonical": "IN", "NCWF_Category_Altern": "PD", "DCWF_Title": "Cyber Crime Investigator", "DCWF_Community": "EN", "Business_Primary_ECSF_Profile": "Digital Forensics Investigator", "Primary_ECSF_Profile": "Digital Forensics Investigator", "Primary_Score": "116", "Match_Confidence": "High", "Secondary_Profiles": "Cyber Threat Intelligence Specialist (62)", "Match_Reasoning": " Cyber Legal, Policy & Compliance Officer (38)", "null": ["Title: 'investigation'", " Title: 'crime'", " KSAT: 'investigation' (8x)", " KSAT: 'evidence' (30x)", " KSAT: 'crime' (10x)"], "Primary_Score_int": 116}], "Penetration Tester": [{"OPM-ID": "551", "NCWF_Title": "Red Teaming", "NCWF_Category_Canonical": "CE", "NCWF_Category_Altern": "DD", "DCWF_Title": "Red Team Specialist", "DCWF_Community": "CE", "Business_Primary_ECSF_Profile": "Penetration Tester", "Primary_ECSF_Profile": "Penetration Tester", "Primary_Score": "72", "Match_Confidence": "High", "Secondary_Profiles": "Cybersecurity Risk Manager (48)", "Match_Reasoning": " Cyber Threat Intelligence Specialist (36)", "null": ["Title: 'red team'"], "Primary_Score_int": 72}, {"OPM-ID": "673", "NCWF_Title": "Software Test & Evaluation", "NCWF_Category_Canonical": "N/A", "NCWF_Category_Altern": "IO", "DCWF_Title": "Software Test & Evaluation Specialist", "DCWF_Community": "SE", "Business_Primary_ECSF_Profile": "Penetration Tester", "Primary_ECSF_Profile": "Penetration Tester", "Primary_Score": "50", "Match_Confidence": "Medium", "Secondary_Profiles": "Cybersecurity Implementer (28)", "Match_Reasoning": " Cybersecurity Architect (24)", "null": [" Cybersecurity Auditor (16)", "KSAT: 'testing' (25x)"], "Primary_Score_int": 50}, {"OPM-ID": "671", "NCWF_Title": "Systems Testing and Evaluation", "NCWF_Category_Canonical": "DD", "NCWF_Category_Altern": "PD", "DCWF_Title": "System Testing and Evaluation Specialist", "DCWF_Community": "IT", "Business_Primary_ECSF_Profile": "Penetration Tester", "Primary_ECSF_Profile": "Penetration Tester", "Primary_Score": "38", "Match_Confidence": "Medium", "Secondary_Profiles": "Cybersecurity Risk Manager (32)", "Match_Reasoning": " Cybersecurity Architect (30)", "null": [" Cybersecurity Auditor (30)", "KSAT: 'testing' (19x)"], "Primary_Score_int": 38}, {"OPM-ID": "321", "NCWF_Title": "Cyberspace Network Operations", "NCWF_Category_Canonical": "CE", "NCWF_Category_Altern": "IN", "DCWF_Title": "(CyberSpace) Access Network Operator", "DCWF_Community": "CE", "Business_Primary_ECSF_Profile": "Penetration Tester", "Primary_ECSF_Profile": "Penetration Tester", "Primary_Score": "20", "Match_Confidence": "Low", "Secondary_Profiles": "Cyber Threat Intelligence Specialist (12)", "Match_Reasoning": " Cybersecurity Architect (10)", "null": [" Cybersecurity Risk Manager (10)", ""], "Primary_Score_int": 20}]};

        const getCategoryClass = (cat) => {
            if (!cat || cat === 'N/A') return 'cat-na';
            const c = cat.toUpperCase();
            if (c.includes('PD')) return 'cat-pd';
            if (c.includes('DD')) return 'cat-dd';
            if (c.includes('IN')) return 'cat-in';
            if (c.includes('OG')) return 'cat-og';
            if (c.includes('IO')) return 'cat-io';
            return 'cat-na';
        };

        const getConfidenceClass = (conf) => {
            const c = conf.toLowerCase();
            if (c === 'low') return 'confidence-low';
            if (c === 'medium') return 'confidence-medium';
            if (c === 'high') return 'confidence-high';
            return 'confidence-low';
        };

        const parseSecondaryProfiles = (secondaryStr) => {
            if (!secondaryStr || secondaryStr.trim() === '') return [];
            // Format: "Profile1 (score1); Profile2 (score2); ..."
            const items = secondaryStr.split(';').map(s => s.trim()).filter(s => s);
            return items.map(item => {
                const match = item.match(/^(.*?)\s*\((\d+)\)$/);
                if (match) {
                    return { name: match[1], score: match[2] };
                }
                return { name: item, score: 'â€”' };
            });
        };

        const renderProfile = (profileName) => {
            const workroles = data[profileName] || [];
            const contentArea = document.getElementById('contentArea');

            if (workroles.length === 0) {
                contentArea.innerHTML = `
                    <div class="empty-state">
                        <h3>âŒ Aucun work role trouvÃ©</h3>
                        <p>Ce profil n'a pas de work roles associÃ©s</p>
                    </div>
                `;
                return;
            }

            let definitionHtml = '';
            if (profileName === 'Chief Information Security Officer') {
                definitionHtml = `
                    <div class="profile-definition">
                        <strong>Summary statement</strong>
                        Manages an organisation's cybersecurity strategy and its implementation to ensure that digital systems, services and assets are adequately secure and protected.
                        <strong>Mission</strong>
                        Defines, maintains and communicates the cybersecurity vision, strategy, policies and procedures. Manages the implementation of the cybersecurity policy across the organisation. Assures information exchange with external authorities and professional bodies.
                    </div>
                `;
            } else if (profileName === 'Cyber Incident Responder') {
                definitionHtml = `
                    <div class="profile-definition">
                        <strong>Summary statement</strong>
                        Monitor the organisation's cybersecurity state, handle incidents during cyber-attacks and assure the continued operations of ICT systems.
                        <strong>Mission</strong>
                        Monitors and assesses systems' cybersecurity state. Analyses, evaluates and mitigates the impact of cybersecurity incidents. Identifies cyber incidents root causes and malicious actors. According to the organisation's Incident Response Plan, restores systems' and processes' functionalities to an operational state, collecting evidences and documenting actions taken.
                    </div>
                `;
            } else if (profileName === 'Cyber Legal, Policy & Compliance Officer') {
                definitionHtml = `
                    <div class="profile-definition">
                        <strong>Summary statement</strong>
                        Manages compliance with cybersecurity-related standards, legal and regulatory frameworks based on the organisation's strategy and legal requirements.
                        <strong>Mission</strong>
                        Oversees and assures compliance with cybersecurity- and data-related legal, regulatory frameworks and policies in line with the organisation's strategy and legal requirements. Contributes to the organisation's data protection related actions. Provides legal advice in the development of the organisation's cybersecurity governance processes and recommended remediation strategies/solutions to ensure compliance.
                    </div>
                `;
            } else if (profileName === 'Cyber Threat Intelligence Specialist') {
                definitionHtml = `
                    <div class="profile-definition">
                        <strong>Summary statement</strong>
                        Collect, process, analyse data and information to produce actionable intelligence reports and disseminate them to target stakeholders.
                        <strong>Mission</strong>
                        Manages cyber threat intelligence life cycle including cyber threat information collection, analysis and production of actionable intelligence and dissemination to security stakeholders and the CTI community, at a tactical, operational and strategic level. Identifies and monitors the Tactics, Techniques and Procedures (TTPs) used by cyber threat actors and their trends, track threat actors'.
                    </div>
                `;
            } else if (profileName === 'Cybersecurity Architect') {
                definitionHtml = `
                    <div class="profile-definition">
                        <strong>Summary statement</strong>
                        Plans and designs security-by-design solutions (infrastructures, systems, assets, software, hardware and services) and cybersecurity controls.
                        <strong>Mission</strong>
                        Designs solutions based on security-by-design and privacy-by-design principles. Creates and continuously improves architectural models and develops appropriate architectural documentation and specifications. Coordinate secure development, integration and maintenance of cybersecurity components in line with standards and other related requirements.
                    </div>
                `;
            } else if (profileName === 'Cybersecurity Auditor') {
                definitionHtml = `
                    <div class="profile-definition">
                        <strong>Summary statement</strong>
                        Perform cybersecurity audits on the organisation's ecosystem. Ensuring compliance with statutory, regulatory, policy information, security requirements, industry standards and best practices.
                        <strong>Mission</strong>
                        Conducts independent reviews to assess the effectiveness of processes and controls and the overall compliance with the organisation's legal and regulatory frameworks policies. Evaluates, tests and verifies cybersecurity-related products (systems, hardware, software and services), functions and policies ensuring, compliance with guidelines, standards and regulations.
                    </div>
                `;
            } else if (profileName === 'Cybersecurity Educator') {
                definitionHtml = `
                    <div class="profile-definition">
                        <strong>Summary statement</strong>
                        Improves cybersecurity knowledge, skills and competencies of humans.
                        <strong>Mission</strong>
                        Designs, develops and conducts awareness, training and educational programmes in cybersecurity and data protection-related topics. Uses appropriate teaching and training methods, techniques and instruments to communicate and enhance the cybersecurity culture, capabilities, knowledge and skills of human resources. Promotes the importance of cybersecurity and consolidates it into the organisation.
                    </div>
                `;
            } else if (profileName === 'Cybersecurity Implementer') {
                definitionHtml = `
                    <div class="profile-definition">
                        <strong>Summary statement</strong>
                        Develop, deploy and operate cybersecurity solutions (systems, assets, software, controls and services) on infrastructures and products.
                        <strong>Mission</strong>
                        Provides cybersecurity-related technical development, integration, testing, implementation, operation, maintenance, monitoring and support of cybersecurity solutions. Ensures adherence to specifications and conformance requirements, assures sound performance and resolves technical issues required in the organisation's cybersecurity-related solutions (systems, assets, software, controls and services), infrastructures and product.
                    </div>
                `;
            } else if (profileName === 'Cybersecurity Researcher') {
                definitionHtml = `
                    <div class="profile-definition">
                        <strong>Summary statement</strong>
                        Research the cybersecurity domain and incorporate results in cybersecurity solutions.
                        <strong>Mission</strong>
                        Conducts fundamental/basic and applied research and facilitates innovation in the cybersecurity domain through cooperation with other stakeholders. Analyses trends and scientific findings in cybersecurity.
                    </div>
                `;
            } else if (profileName === 'Cybersecurity Risk Manager') {
                definitionHtml = `
                    <div class="profile-definition">
                        <strong>Summary statement</strong>
                        Manage the organisation's cybersecurity-related risks aligned to the organisation's strategy. Develop, maintain and communicate the risk management processes and reports.
                        <strong>Mission</strong>
                        Continuously manages (identifies, analyses, assesses, estimates, mitigates) the cybersecurity-related risks of ICT infrastructures, systems and services by planning, applying, reporting and communicating risk analysis, assessment and treatment. Establishes a risk management strategy for the organisation and ensures that risks remain at an acceptable level for the organisation by selecting mitigation actions and controls.
                    </div>
                `;
            } else if (profileName === 'Digital Forensics Investigator') {
                definitionHtml = `
                    <div class="profile-definition">
                        <strong>Summary statement</strong>
                        Ensure the cybercriminal investigation reveals all digital evidence to prove the malicious activity.
                        <strong>Mission</strong>
                        Connects artefacts to natural persons, captures, recovers, identifies and preserves data, including manifestations, inputs, outputs and processes of digital systems under investigation. Provides analysis, reconstruction and interpretation of the digital evidence based on a qualitative opinion. Presents an unbiased qualitative view without interpreting the resultant findings.
                    </div>
                `;
            } else if (profileName === 'Penetration Tester') {
                definitionHtml = `
                    <div class="profile-definition">
                        <strong>Summary statement</strong>
                        Assess the effectiveness of security controls, reveals and utilise cybersecurity vulnerabilities, assessing their criticality if exploited by threat actors.
                        <strong>Mission</strong>
                        Plans, designs, implements and executes penetration testing activities and attack scenarios to evaluate the effectiveness of deployed or planned security measures. Identifies vulnerabilities or failures on technical and organisational controls that affect the confidentiality, integrity and availability of ICT products (e.g. systems, hardware, software and services).
                    </div>
                `;
            }

            let profileImage = '';
            if (profileName === 'Chief Information Security Officer') {
                profileImage = `<img src="Picture1.png" alt="${profileName}" class="profile-header-img">`;
            } else if (profileName === 'Cyber Legal, Policy & Compliance Officer') {
                profileImage = `<img src="Picture2.png" alt="${profileName}" class="profile-header-img">`;
            } else if (profileName === 'Cybersecurity Implementer') {
                profileImage = `<img src="Picture3.png" alt="${profileName}" class="profile-header-img">`;
            } else if (profileName === 'Cybersecurity Risk Manager') {
                profileImage = `<img src="Picture4.png" alt="${profileName}" class="profile-header-img">`;
            } else if (profileName === 'Cyber Incident Responder') {
                profileImage = `<img src="Picture5.png" alt="${profileName}" class="profile-header-img">`;
            } else if (profileName === 'Penetration Tester') {
                profileImage = `<img src="Picture6.png" alt="${profileName}" class="profile-header-img">`;
            } else if (profileName === 'Cybersecurity Auditor') {
                profileImage = `<img src="Picture7.png" alt="${profileName}" class="profile-header-img">`;
            } else if (profileName === 'Cyber Threat Intelligence Specialist') {
                profileImage = `<img src="Picture8.png" alt="${profileName}" class="profile-header-img">`;
            } else if (profileName === 'Digital Forensics Investigator') {
                profileImage = `<img src="Picture9.png" alt="${profileName}" class="profile-header-img">`;
            } else if (profileName === 'Cybersecurity Researcher') {
                profileImage = `<img src="Picture10.png" alt="${profileName}" class="profile-header-img">`;
            } else if (profileName === 'Cybersecurity Architect') {
                profileImage = `<img src="Picture11.png" alt="${profileName}" class="profile-header-img">`;
            } else if (profileName === 'Cybersecurity Educator') {
                profileImage = `<img src="Picture12.png" alt="${profileName}" class="profile-header-img">`;
            }
            
            let html = `
                <div class="profile-header">
                    <h2>${profileImage}${profileName}</h2>
                    <div class="profile-count">${workroles.length} work role(s) ontologiquement reliÃ©(s)</div>
                    ${definitionHtml}
                </div>
            `;

            workroles.forEach(wr => {
                const catCanonical = wr['NCWF_Category_Canonical'] || 'N/A';
                const catAltern = wr['NCWF_Category_Altern'] || 'N/A';
                const secondaryProfiles = parseSecondaryProfiles(wr['Secondary_Profiles']);

                html += `
                    <div class="workrole-card">
                        <div class="workrole-header">
                            <div class="workrole-title">
                                <div class="opm-id">OPM-ID: ${wr['OPM-ID']}</div>
                                <h3>${wr['NCWF_Title']}</h3>
                            </div>
                            <div class="score-badges">
                                <span class="badge score-badge">Score: ${wr['Primary_Score']}</span>
                                <span class="badge ${getConfidenceClass(wr['Match_Confidence'])}">${wr['Match_Confidence']}</span>
                            </div>
                        </div>

                        <div class="workrole-body">
                            <!-- Ligne 1: DCWF -->
                            <div class="info-row">
                                <div class="info-cell">
                                    <div class="info-label">DCWF Title</div>
                                    <div class="info-value">${wr['DCWF_Title']}</div>
                                </div>
                                <div class="info-cell">
                                    <div class="info-label">DCWF Community</div>
                                    <div class="info-value">${wr['DCWF_Community']}</div>
                                </div>
                                <div class="info-cell"></div>
                            </div>

                            <!-- Ligne 2: NCWF -->
                            <div class="info-row">
                                <div class="info-cell">
                                    <div class="info-label">NCWF Title</div>
                                    <div class="info-value">${wr['NCWF_Title']}</div>
                                </div>
                                <div class="info-cell">
                                    <div class="info-label">NCWF Category (Canonical)</div>
                                    <div class="info-value">
                                        <span class="category-badge ${getCategoryClass(catCanonical)}">${catCanonical}</span>
                                    </div>
                                </div>
                                <div class="info-cell">
                                    <div class="info-label">NCWF Category (Alternative)</div>
                                    <div class="info-value">
                                        <span class="category-badge ${getCategoryClass(catAltern)}">${catAltern}</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        ${secondaryProfiles.length > 0 ? `
                            <div class="secondary-section">
                                <div class="secondary-label">ðŸ“Œ Profils secondaires:</div>
                                <div class="secondary-profiles-list">
                                    ${secondaryProfiles.map(p => `
                                        <div class="secondary-profile-item">
                                            <span class="profile-name">${p.name}</span>
                                            <span class="profile-score">(${p.score})</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        ` : ''}
                    </div>
                `;
            });

            contentArea.innerHTML = html;
        };

        // Initialiser les boutons des profils
        const profilesContainer = document.getElementById('profilesContainer');
        const profileOrder = ["Chief Information Security Officer", "Cyber Incident Responder", "Cyber Legal, Policy & Compliance Officer", "Cyber Threat Intelligence Specialist", "Cybersecurity Architect", "Cybersecurity Auditor", "Cybersecurity Educator", "Cybersecurity Implementer", "Cybersecurity Researcher", "Cybersecurity Risk Manager", "Digital Forensics Investigator", "Penetration Tester"];

        profileOrder.forEach(profile => {
            if (profile in data) {
                const btn = document.createElement('button');
                btn.className = 'profile-btn';
                btn.dataset.profile = profile;
                
                // Ajouter l'image selon le profil
                if (profile === 'Chief Information Security Officer') {
                    const img = document.createElement('img');
                    img.src = 'Picture1.png';
                    img.alt = profile;
                    img.className = 'profile-btn-img';
                    btn.appendChild(img);
                } else if (profile === 'Cyber Legal, Policy & Compliance Officer') {
                    const img = document.createElement('img');
                    img.src = 'Picture2.png';
                    img.alt = profile;
                    img.className = 'profile-btn-img';
                    btn.appendChild(img);
                } else if (profile === 'Cybersecurity Implementer') {
                    const img = document.createElement('img');
                    img.src = 'Picture3.png';
                    img.alt = profile;
                    img.className = 'profile-btn-img';
                    btn.appendChild(img);
                } else if (profile === 'Cybersecurity Risk Manager') {
                    const img = document.createElement('img');
                    img.src = 'Picture4.png';
                    img.alt = profile;
                    img.className = 'profile-btn-img';
                    btn.appendChild(img);
                } else if (profile === 'Cyber Incident Responder') {
                    const img = document.createElement('img');
                    img.src = 'Picture5.png';
                    img.alt = profile;
                    img.className = 'profile-btn-img';
                    btn.appendChild(img);
                } else if (profile === 'Penetration Tester') {
                    const img = document.createElement('img');
                    img.src = 'Picture6.png';
                    img.alt = profile;
                    img.className = 'profile-btn-img';
                    btn.appendChild(img);
                } else if (profile === 'Cybersecurity Auditor') {
                    const img = document.createElement('img');
                    img.src = 'Picture7.png';
                    img.alt = profile;
                    img.className = 'profile-btn-img';
                    btn.appendChild(img);
                } else if (profile === 'Cyber Threat Intelligence Specialist') {
                    const img = document.createElement('img');
                    img.src = 'Picture8.png';
                    img.alt = profile;
                    img.className = 'profile-btn-img';
                    btn.appendChild(img);
                } else if (profile === 'Digital Forensics Investigator') {
                    const img = document.createElement('img');
                    img.src = 'Picture9.png';
                    img.alt = profile;
                    img.className = 'profile-btn-img';
                    btn.appendChild(img);
                } else if (profile === 'Cybersecurity Researcher') {
                    const img = document.createElement('img');
                    img.src = 'Picture10.png';
                    img.alt = profile;
                    img.className = 'profile-btn-img';
                    btn.appendChild(img);
                } else if (profile === 'Cybersecurity Architect') {
                    const img = document.createElement('img');
                    img.src = 'Picture11.png';
                    img.alt = profile;
                    img.className = 'profile-btn-img';
                    btn.appendChild(img);
                } else if (profile === 'Cybersecurity Educator') {
                    const img = document.createElement('img');
                    img.src = 'Picture12.png';
                    img.alt = profile;
                    img.className = 'profile-btn-img';
                    btn.appendChild(img);
                }
                
                const text = document.createTextNode(profile);
                btn.appendChild(text);
                
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.profile-btn').forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    renderProfile(profile);
                });
                profilesContainer.appendChild(btn);
            }
        });

        // Gestion du zoom des images
        const modal = document.getElementById('imageModal');
        const modalImg = document.getElementById('modalImage');
        const closeBtn = document.querySelector('.image-modal-close');
        const images = document.querySelectorAll('.zoomable-image');

        images.forEach(img => {
            img.addEventListener('click', () => {
                modal.classList.add('active');
                modalImg.src = img.src;
                modalImg.alt = img.alt;
                document.body.style.overflow = 'hidden'; // EmpÃªcher le scroll
            });
        });

        // Fermer la modal
        closeBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            modal.classList.remove('active');
            document.body.style.overflow = ''; // RÃ©activer le scroll
        });

        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.remove('active');
                document.body.style.overflow = ''; // RÃ©activer le scroll
            }
        });

        // Fermer avec la touche Escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && modal.classList.contains('active')) {
                modal.classList.remove('active');
                document.body.style.overflow = ''; // RÃ©activer le scroll
            }
        });
    </script>
</body>
</html>